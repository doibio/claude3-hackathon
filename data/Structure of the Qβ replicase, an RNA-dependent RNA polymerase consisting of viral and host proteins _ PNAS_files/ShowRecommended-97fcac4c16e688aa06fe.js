(window.webpackJsonp=window.webpackJsonp||[]).push([[8,27],{276:function(t,e,n){"use strict";n.d(e,"b",(function(){return L})),n.d(e,"a",(function(){return E}));var r=n(1),o=n.n(r),i=n(31),a=n.n(i),s=n(13),c=n.n(s),l=n(4),u=n.n(l),h=n(5),p=n.n(h),f=n(10),d=n.n(f),y=n(8),v=n.n(y),w=n(2),m=n.n(w),g=n(11),b=n.n(g),_=n(9);function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function define(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,n){return t[e]=n}}function wrap(t,e,n,r){var o=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(o.prototype),s=new Context(r||[]);return i(a,"_invoke",{value:makeInvokeMethod(t,n,s)}),a}function tryCatch(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",h="executing",p="completed",f={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,s,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(values([])));v&&v!==n&&r.call(v,s)&&(d=v);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(n,i,a,s){var c=tryCatch(t[n],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==o()(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,s)}),(function(t){invoke("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return invoke("throw",t,a,s)}))}s(c.arg)}var n;i(this,"_invoke",{value:function value(t,r){function callInvokeWithMethodAndArg(){return new e((function(e,n){invoke(t,r,e,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,n,r){var o=u;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===p){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=maybeInvokeDelegate(s,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===u)throw o=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=tryCatch(e,n,r);if("normal"===l.type){if(o=r.done?p:"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=p,r.method="throw",r.arg=l.arg)}}}function maybeInvokeDelegate(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,maybeInvokeDelegate(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=tryCatch(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function next(){for(;++i<e.length;)if(r.call(e,i))return next.value=e[i],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(o()(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,i(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),i(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,l,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(w),define(w,l,"Generator"),define(w,s,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function next(){for(;n.length;){var t=n.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var n=this;function handle(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),f}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;resetTryEntry(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,n,r){return this.delegate={iterator:values(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),f}},e}function _callSuper(t,e,n){return e=m()(e),d()(t,function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function _isNativeReflectConstruct(){return!!t}()}()?Reflect.construct(e,n||[],m()(t).constructor):e.apply(t,n))}var L={dataFetch:"UX:data-fetch"},E=function(t){function ShowRecommended(t){var e;return u()(this,ShowRecommended),(e=_callSuper(this,ShowRecommended)).wrapper=t,e.initialize(e.wrapper),e}var e;return b()(ShowRecommended,t),p()(ShowRecommended,[{key:"selectors",get:function get(){return{lazyLoad:"lazy-load",delayLoad:"delayLoad"}}},{key:"classList",get:function get(){return{base:"show-recommended",delayLoad:"delayLoad",delayedLoad:"delayedLoad"}}},{key:"removeShowRecommendedIfNoData",get:function get(){return!0}},{key:"ajaxUrl",get:function get(){return this.wrapper.dataset.ajaxurl}},{key:"initialize",value:function initialize(t){var e=this;v()(m()(ShowRecommended.prototype),"initialize",this).call(this),window.isShowRecommendedFetched=!1,this.fetchContent().then((function(){e.afterAjax()}))}},{key:"fetchContent",value:(e=c()(_regeneratorRuntime().mark((function _callee(){var t,e;return _regeneratorRuntime().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(this.ajaxUrl);case 3:if(200===(t=n.sent).status){n.next=6;break}throw new Error("Failed to load content");case 6:return n.next=8,t.text();case 8:e=n.sent,this.wrapper.innerHTML=e,n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.debug(n.t0);case 15:case"end":return n.stop()}}),_callee,this,[[0,12]])}))),function fetchContent(){return e.apply(this,arguments)})},{key:"afterAjax",value:function afterAjax(){var t=this;setTimeout((function(){t.hideSkeletons(),t.emitFetchedEvent()}),10)}},{key:"emitFetchedEvent",value:function emitFetchedEvent(){var t=new Event(L.dataFetch);window.dispatchEvent(t),window.isShowRecommendedFetched=!0}},{key:"hideSkeletons",value:function hideSkeletons(){var t,e,n,r,o=this;(null===(t=this.wrapper.querySelectorAll(this._selectors.lazyLoad))||void 0===t||t.forEach((function(t){return t.parentNode.removeChild(t)})),null===(e=this.wrapper.querySelectorAll(this._selectors.delayLoad))||void 0===e||e.forEach((function(t){return t.classList.remove(o._classList.delayLoad).add(o._classList.delayedLoad)})),this.removeShowRecommendedIfNoData)?this.wrapper.children[0]&&this.wrapper.children[0].children[0]?(n=this.wrapper).replaceWith.apply(n,a()(this.wrapper.children)):this.wrapper.parentNode.classList.contains(this._classList.base)&&this.wrapper.parentNode.remove():(r=this.wrapper).replaceWith.apply(r,a()(this.wrapper.children))}}]),ShowRecommended}(_.a)},304:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return w}));var r=n(4),o=n.n(r),i=n(5),a=n.n(i),s=n(10),c=n.n(s),l=n(8),u=n.n(l),h=n(2),p=n.n(h),f=n(11),d=n.n(f),y=n(9),v=n(276);function _callSuper(t,e,n){return e=p()(e),c()(t,function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function _isNativeReflectConstruct(){return!!t}()}()?Reflect.construct(e,n||[],p()(t).constructor):e.apply(t,n))}var w=function(t){function PopNotification(t){var e;return o()(this,PopNotification),(e=_callSuper(this,PopNotification))._constants=e.constants,e.wrapper=t,e.popupFloatAfter=e.wrapper.classList.contains(e._classList.popupFloatAfter),e._visibility=e.visibility,e._visibility&&e._visibility.indexOf("%")>-1&&(e._visibility=parseFloat(e._visibility)/100),e.initialize(),e.checkVisibility(),e.addEventListeners(),e}return d()(PopNotification,t),a()(PopNotification,[{key:"constants",get:function get(){return{TIMER:200,FOOTER_OFFSET:200,TRANSITION:250,FLOAT_EL_OFFSET:200}}},{key:"visibility",get:function get(){return this.wrapper.dataset.visibleAfter}},{key:"selectors",get:function get(){return{closeBtn:".pop-notification__close",footer:".footer"}}},{key:"elements",get:function get(){return{closeBtn:[],popupFloatAfterPlaceholder:null}}},{key:"classList",get:function get(){return{show:"show",relatedContent:"related-content",popupFloatAfter:"pop-after-passed",popupFloatAfterPassed:"js-sticky",popupFloatAfterPlaceholder:"js-intersection-placeholder",transitioned:"js-transitioned"}}},{key:"initialize",value:function initialize(){u()(p()(PopNotification.prototype),"initialize",this).call(this),this.setControlElements(),this.popupFloatAfter&&(this.setPopupFloatAfterPlaceholder(),this.checkElPassedScroll())}},{key:"addEventListeners",value:function addEventListeners(){u()(p()(PopNotification.prototype),"addEventListeners",this).call(this),this.visibility&&(this.checkVisibilityEvent=this.checkVisibility.bind(this),window.addEventListener("scroll",this.checkVisibilityEvent)),this.popupFloatAfter&&(this.checkElPassedScrollEvent=this.checkElPassedScroll.bind(this),window.addEventListener("scroll",this.checkElPassedScrollEvent)),window.addEventListener(v.b.dataFetch,this.setControlElements.bind(this))}},{key:"setControlElements",value:function setControlElements(){var t=this;this._elements.closeBtn=this.wrapper.querySelectorAll(this._selectors.closeBtn),this._elements.closeBtn.forEach((function(e){e.addEventListener("click",t.onClick.bind(t))}))}},{key:"setPopupFloatAfterPlaceholder",value:function setPopupFloatAfterPlaceholder(){var t=document.createElement("div");t.classList.add(this._classList.popupFloatAfterPlaceholder),this.popupFloatAfterDummyId="pop-after-passed-placeholder-".concat(Math.floor(1e4*Math.random())),t.setAttribute("id",this.popupFloatAfterDummyId),this.wrapper.insertAdjacentElement("afterend",t),this._elements.popupFloatAfterPlaceholder=document.getElementById(this.popupFloatAfterDummyId)}},{key:"onClick",value:function onClick(t){var e=this;if(t.preventDefault(),this.wrapper.classList.remove("show"),this.popupFloatAfter)return window.removeEventListener("scroll",this.checkVisibilityEvent),window.removeEventListener("scroll",this.checkElPassedScrollEvent),this.wrapper.classList.remove(this._classList.popupFloatAfterPassed),void this.wrapper.classList.remove(this._classList.transitioned);setTimeout((function(){e.wrapper.remove()}),this._constants.TIMER)}},{key:"setVisibility",value:function setVisibility(t){t?this.wrapper.classList.add(this._classList.show):this.wrapper.classList.remove(this._classList.show)}},{key:"setFloat",value:function setFloat(t){var e=this;t?(this.wrapper.classList.add(this._classList.popupFloatAfterPassed),this.settimeout=setTimeout((function(){return e.wrapper.classList.add(e._classList.transitioned)}),this._constants.TRANSITION)):(this.wrapper.classList.remove(this._classList.popupFloatAfterPassed),this.wrapper.classList.remove(this._classList.transitioned))}},{key:"checkVisibility",value:function checkVisibility(){var t,e=document.body.getBoundingClientRect().height*this._visibility,n=window.pageYOffset,r=null===(t=document.querySelector(this._selectors.footer))||void 0===t?void 0:t.getBoundingClientRect(),o=(null==r?void 0:r.height)-(null==r?void 0:r.top)+this._constants.FOOTER_OFFSET||-1;this.setVisibility(n>e&&o<0)}},{key:"checkElPassedScroll",value:function checkElPassedScroll(){var t=window.scrollY,e=this._elements.popupFloatAfterPlaceholder.offsetTop+this._elements.popupFloatAfterPlaceholder.offsetHeight+this._constants.FLOAT_EL_OFFSET;this.setFloat(t>e)}}]),PopNotification}(y.a)},441:function(t,e,n){"use strict";n.r(e);var r,o=n(276),i=n(304),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),__awaiter=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(t){try{step(r.next(t))}catch(t){i(t)}}function rejected(t){try{step(r.throw(t))}catch(t){i(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())}))},__generator=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(s){return function step(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=function(t){function ShowRecommended(){return null!==t&&t.apply(this,arguments)||this}return a(ShowRecommended,t),ShowRecommended.prototype.fetchContent=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,n;return __generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch(this.ajaxUrl)];case 1:return 200!==(t=r.sent()).status?(console.warn("Failed to load recommended content"),[2]):[4,t.text()];case 2:return e=r.sent(),this.wrapper.innerHTML=e,(n=this.wrapper.querySelector(".pop-notification"))&&new i.default(n),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))},ShowRecommended}(o.a);e.default=s}}]);
//# sourceMappingURL=ShowRecommended-97fcac4c16e688aa06fe.js.map