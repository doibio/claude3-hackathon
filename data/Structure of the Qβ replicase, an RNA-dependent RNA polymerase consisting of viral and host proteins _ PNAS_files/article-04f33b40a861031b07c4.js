(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{741:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(13),a=n.n(o),s=n(4),c=n.n(s),l=n(5),u=n.n(l),h=n(10),f=n.n(h),p=n(8),d=n.n(p),y=n(2),v=n.n(y),m=n(11),g=n.n(m);function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function define(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,n){return e[t]=n}}function wrap(e,t,n,r){var i=t&&t.prototype instanceof Generator?t:Generator,a=Object.create(i.prototype),s=new Context(r||[]);return o(a,"_invoke",{value:makeInvokeMethod(e,n,s)}),a}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=wrap;var u="suspendedStart",h="executing",f="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,s,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(values([])));v&&v!==n&&r.call(v,s)&&(d=v);var m=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,a,s){var c=tryCatch(e[n],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==i()(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){invoke("next",e,a,s)}),(function(e){invoke("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return invoke("throw",e,a,s)}))}s(c.arg)}var n;o(this,"_invoke",{value:function value(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(t,n,r){var i=u;return function(o,a){if(i===h)throw new Error("Generator is already running");if(i===f){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=maybeInvokeDelegate(s,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===u)throw i=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var l=tryCatch(t,n,r);if("normal"===l.type){if(i=r.done?f:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=f,r.method="throw",r.arg=l.arg)}}}function maybeInvokeDelegate(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,maybeInvokeDelegate(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=tryCatch(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function next(){for(;++o<t.length;)if(r.call(t,o))return next.value=t[o],next.done=!1,next;return next.value=e,next.done=!0,next};return a.next=a}}throw new TypeError(i()(t)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(m,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,l,"GeneratorFunction")),e.prototype=Object.create(m),e},t.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),t.AsyncIterator=AsyncIterator,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new AsyncIterator(wrap(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(m),define(m,l,"Generator"),define(m,s,(function(){return this})),define(m,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function next(){for(;n.length;){var e=n.pop();if(e in t)return next.value=e,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(resetTryEntry),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var n=this;function handle(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),p}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;resetTryEntry(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,n,r){return this.delegate={iterator:values(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}function _callSuper(e,t,n){return t=v()(t),f()(e,function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function _isNativeReflectConstruct(){return!!e}()}()?Reflect.construct(t,n||[],v()(e).constructor):t.apply(e,n))}var b,_=function(e){function CitedBy(e){var t;return c()(this,CitedBy),(t=_callSuper(this,CitedBy)).wrapper=e,t.isLazyLoading=!1,t.initialize(),t.addEventListeners(),t}var t;return g()(CitedBy,e),u()(CitedBy,[{key:"selectors",get:function get(){return{list:".cited-by__list",spinner:".cited-by__spinner"}}},{key:"classList",get:function get(){return{seeMore:"cited-by__see-more",hide:"d-none"}}},{key:"elements",get:function get(){return{list:null,spinner:null}}},{key:"listItemClasses",get:function get(){return"pb-3 mb-4 border-bottom"}},{key:"initialize",value:function initialize(){d()(v()(CitedBy.prototype),"initialize",this).call(this),this._elements.list=this.wrapper.querySelector(this._selectors.list),this._elements.spinner=this.wrapper.querySelector(this._selectors.spinner),this.isLazyLoading="true"===this._elements.list.dataset.lazyload}},{key:"addEventListeners",value:function addEventListeners(){if(d()(v()(CitedBy.prototype),"addEventListeners",this).call(this),this._elements.list.addEventListener("click",this.onClick.bind(this)),this.isLazyLoading){var e,t="".concat(this._elements.list.dataset.source,"&ajaxRequest=true");null===(e=document.body.querySelector('[aria-controls="tab-citations"]'))||void 0===e||e.addEventListener("click",this.sendAjax.bind(this,t))}}},{key:"onClick",value:function onClick(e){e.stopPropagation();var t=e.target;if(t.classList.contains(this._classList.seeMore)){var n=t.parentNode,r=t.dataset.source;n.remove(),this.sendAjax(r)}}},{key:"sendAjax",value:(t=a()(_regeneratorRuntime().mark((function _callee(e){var t,n,r,i=this;return _regeneratorRuntime().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,this.setIsLoading(!0),o.next=4,fetch(e);case 4:return t=o.sent,o.next=7,t.json();case 7:if((n=o.sent).item.citations.length){o.next=10;break}return o.abrupt("return");case 10:r=n.item.citations.map((function(e){return i.listItem(e,n)})).join(""),this._elements.list.insertAdjacentHTML("beforeend",r),n.seeMoreLink&&this._elements.list.insertAdjacentHTML("beforeend",this.seeMore(n.seeMoreLink+"&ajaxRequest=true")),this.setIsLoading(!1),o.next=20;break;case 16:o.prev=16,o.t0=o.catch(0),console.debug(o.t0),this.setIsLoading(!1);case 20:case"end":return o.stop()}}),_callee,this,[[0,16]])}))),function sendAjax(e){return t.apply(this,arguments)})},{key:"setIsLoading",value:function setIsLoading(e){this._elements.spinner.classList.toggle(this._classList.hide,!e)}},{key:"seeMore",value:function seeMore(e){return'\n            <li class="cited-by__entry--see-more">\n                <a href="javascript:void(0)" data-source="'.concat(e,'" class="cited-by__see-more">See more</a>\n            </li>\n        ')}},{key:"authorsList",value:function authorsList(e){if(e&&e.length){var t=e.map((function(e){var t=e.firstName,n=e.surname;return'\n                <li class="list-inline-item cited-by__entry__author">\n                    '.concat(t," ").concat(n,",\n                 </li>")})).join("");return'\n            <ul class="cited-by__entry__authors list-inline">\n                '.concat(t,"\n            </ul>")}return""}},{key:"listItem",value:function listItem(e,t){var n="crossref"===e.source?t.registry.crossrefUrl+e.doi:"/doi/"+e.doi,r="crossref"===e.source?t.crossrefLinkLabel:t.internalLinkLabel,i='<span class="cited-by__entry__series-title">'.concat(e.parentTitle,", </span>"),o=e.lastPage?"-".concat(e.lastPage):"",a='<span class="cited-by__entry__page-range">('.concat(e.firstPage).concat(o,"), </span>");return'\n        <li class="cited-by__entry '.concat(this.listItemClasses,'">\n            ').concat(this.authorsList(e.contributors),'\n            <span class="cited-by__entry__title">').concat(e.itemTitle,", </span>\n            ").concat(e.parentTitle?i:"","\n            ").concat(e.volume?'<span class="cited-by__entry__volume"><b>'.concat(e.volume,"</b>, </span>"):"","\n            ").concat(e.issue?'<span class="cited-by__entry__issue">'.concat(e.issue,", </span>"):"","\n            ").concat(e.firstPage?a:"","\n            ").concat(e.year?'<span class="cited-by__entry__pub-date">('.concat(e.year,"). </span>"):"",'\n            <a href="').concat(n,'" title="').concat(r,'" class="cited-by__entry__doi">').concat(n,'</a>\n            <div class="cited-by__entry__extra-links">\n                <a href="').concat(n,'" class="cited-by__entry__visitable">').concat(r,"</a>\n            </div>\n        </li>\n        ")}}]),CitedBy}(n(9).a),w=n(30),L=(b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),__decorate=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function step(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},x=function(e){function Texts(){return null!==e&&e.apply(this,arguments)||this}return L(Texts,e),Texts}(w.e),k=function(e){function ClassList(){var t=null!==e&&e.apply(this,arguments)||this;return t.active="active",t.hidden="d-none",t}return L(ClassList,e),ClassList}(w.e),E=function(e){function Selectors(){var t=null!==e&&e.apply(this,arguments)||this;return t.expandLink=new w.f(".expand-link"),t.deepDyve=new w.f(".deep-dyve"),t.scrollIntoView=new w.f(".scroll-into-view"),t}return L(Selectors,e),Selectors}(w.g),j=function(e){function Elements(){return null!==e&&e.apply(this,arguments)||this}return L(Elements,e),Elements}(w.c),A=function(){function AccessDenial(e){this.wrapper=e}return Object.defineProperty(AccessDenial.prototype,"deepDyveUrl",{get:function(){return"http://www.deepdyve.com/rental-link"},enumerable:!1,configurable:!0}),AccessDenial.prototype.initialize=function(){return this.elements.initialize(this.wrapper),this.addEventListeners(),this.elements.scrollIntoView&&this.scrollIntoView(),this.elements.deepDyve&&this.initDeepdyve(),this},AccessDenial.prototype.addEventListeners=function(){var e;null===(e=this.elements.expandLink)||void 0===e||e.addEventListener("click",this.onExpandLinkClick.bind(this)),window.addEventListener("scroll",this.onScroll.bind(this),{once:!0})},AccessDenial.prototype.onExpandLinkClick=function(e){e.preventDefault();var t=this.domUtils.nextAll(this.elements.expandLink,".content");this.domUtils.toggleClasses(this.elements.expandLink,this.classList.active),this.domUtils.toggleClasses(t,this.classList.hidden)},AccessDenial.prototype.initDeepdyve=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,n,r,i;return __generator(this,(function(o){switch(o.label){case 0:if(e=this.elements.deepDyve.dataset,t=e.affid,n=e.issn,r=e.doi,!t||!n||!r)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.api.fetch(this.deepDyveUrl,"GET","jsonp",{affid:t,issn:n,doi:r})];case 2:return i=o.sent(),this.elements.deepDyve.setAttribute("href",i.url),this.domUtils.removeClasses(this.elements.deepDyve,this.classList.hidden),[3,4];case 3:return o.sent(),[3,4];case 4:return[2]}}))}))},AccessDenial.prototype.scrollIntoView=function(){return __awaiter(this,void 0,void 0,(function(){var e,t;return __generator(this,(function(n){switch(n.label){case 0:return e=this.wrapper.offsetTop,t=this.browserUtils.delay(1e3),this.timeout=t.next().value,[4,t.next().value];case 1:return n.sent(),window.scrollTo({top:e,behavior:"smooth"}),[2]}}))}))},AccessDenial.prototype.onScroll=function(){clearTimeout(this.timeout)},__decorate([Object(w.l)(),__metadata("design:type",w.a)],AccessDenial.prototype,"api",void 0),__decorate([Object(w.l)(),__metadata("design:type",w.b)],AccessDenial.prototype,"browserUtils",void 0),AccessDenial=__decorate([Object(w.d)(E,j,k,x),__metadata("design:paramtypes",[HTMLElement])],AccessDenial)}();t.default=function main(e){var t=document.getElementById("cited-by"),n=document.querySelector(".purchaseArea");try{t&&(e.CitedBy=new _(t))}catch(e){console.error(e)}try{n&&(e.accessDenial=new A(n).initialize())}catch(e){console.error(e)}}}}]);
//# sourceMappingURL=article-04f33b40a861031b07c4.js.map